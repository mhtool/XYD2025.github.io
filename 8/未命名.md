在差分约束系统中，使用不等式 $\text{dis}[v] \ge \text{dis}[u] + w$ 确实与最短路的松弛条件 $\text{dis}[v] \le \text{dis}[u] + w$ 看似矛盾，但这正是因为差分约束系统通常需要构建一个图并求解**最长路**（或通过符号转化求最短路）。以下是详细解释：

---

### 1. **差分约束的核心问题**
差分约束系统的目标是找到一组变量的值 $x_1, x_2, \dots, x_n$，满足形如 $x_j - x_i \le w$ 的约束条件。这类问题可以转化为图论中的路径问题：
- 将每个变量 $x_i$ 看作图中的节点。
- 对于约束 $x_j - x_i \le w$，建一条从 $i$ 到 $j$ 的边，边权为 $w$。

此时，约束 $x_j - x_i \le w$ 等价于 $x_j \le x_i + w$，这与最短路的松弛条件 $\text{dis}[j] \le \text{dis}[i] + w$ 完全一致。因此，**用最短路算法可以求解差分约束系统**。

---

### 2. **为什么会出现 $\text{dis}[v] \ge \text{dis}[u] + w$？**
当差分约束系统中存在形式为 $x_j - x_i \ge w$ 的约束时（即 $x_j \ge x_i + w$），需要将其转化为最长路问题：
- 将不等式 $x_j \ge x_i + w$ 看作最长路的松弛条件 $\text{dis}[j] \ge \text{dis}[i] + w$。
- 此时需要求解图中从源点到其他节点的最长路。

但最长路问题在存在正权环时无解（类似最短路中的负权环），且通常需要转换为最短路问题：
- 对不等式 $x_j \ge x_i + w$ 两边取负号，得到 $-x_j \le -x_i - w$，即转化为 $x'_j \le x'_i - w$（令 $x' = -x$）。
- 此时可以用最短路算法求解。

---

### 3. **总结**
- **最短路模型**：用于约束 $x_j - x_i \le w$（默认形式）。
- **最长路模型**：用于约束 $x_j - x_i \ge w$，但通常通过取负号转化为最短路。
- 若系统中同时存在 $\le$ 和 $\ge$ 的约束，需统一转化为一种形式（通常是最短路）。

---

### 关键点
- 你看到的 $\text{dis}[v] \ge \text{dis}[u] + w$ 可能是针对最长路问题直接建模的情况。
- 实际代码实现中，通常会统一用最短路算法（如 Bellman-Ford）处理，通过调整边权和符号。

例如：
- 约束 $x_j \ge x_i + w$ 可以转化为建边 $i \to j$ 权为 $w$，然后求最长路；
- 或者建边 $j \to i$ 权为 $-w$，然后求最短路。

两种方法本质等价，但最短路算法更常用。

