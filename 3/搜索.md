# ğŸ§  ç®—æ³•ç«èµ›å¸¸ç”¨æœç´¢ç­–ç•¥è®²ä¹‰  
## ä¸€ã€DFSï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰

### âœ… é€‚ç”¨åœºæ™¯ï¼š
- æœç´¢ç©ºé—´è¾ƒå°
- éœ€è¦æšä¸¾æ‰€æœ‰å¯èƒ½è·¯å¾„
- å¯é…åˆå‰ªæä¼˜åŒ–

### ğŸ“Œ ç‰¹ç‚¹ï¼š
- å†…å­˜å ç”¨å°
- ä¸ä¿è¯æœ€ä¼˜è§£
- æ˜“å®ç°é€’å½’

```cpp
int dx[] = {-1, 0, 1, 0};
int dy[] = {0, 1, 0, -1};

bool vis[N][M];

void dfs(int x, int y) {
    if (x == tx && y == ty) {
        // æ‰¾åˆ°ç›®æ ‡
        return;
    }
    for (int i = 0; i < 4; ++i) {
        int nx = x + dx[i], ny = y + dy[i];
        if (!vis[nx][ny] && in_bounds(nx, ny)) {
            vis[nx][ny] = 1;
            dfs(nx, ny);
        }
    }
}
```

---

## äºŒã€BFSï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰

### âœ… é€‚ç”¨åœºæ™¯ï¼š
- æœ€çŸ­è·¯å¾„é—®é¢˜ï¼ˆè¾¹æƒç›¸ç­‰ï¼‰
- å±‚æ¬¡éå†
- çŠ¶æ€è½¬ç§»å›¾æ˜ç¡®

### ğŸ“Œ ç‰¹ç‚¹ï¼š
- æ‰¾æœ€çŸ­è·¯å¾„
- å†…å­˜å ç”¨å¤§
- ä½¿ç”¨é˜Ÿåˆ—ç»“æ„

```cpp
struct Node {
    int x, y, d;
};

int bfs() {
    queue<Node> q;
    vector<vector<int>> vis(n, vector<int>(m));
    q.push({0, 0, 0});
    vis[0][0] = 1;

    while (!q.empty()) {
        auto [x, y, d] = q.front(); q.pop();
        if (x == n - 1 && y == m - 1) return d;
        for (int i = 0; i < 4; ++i) {
            int nx = x + dx[i], ny = y + dy[i];
            if (nx >= 0 && nx < n && ny >= 0 && ny < m && !grid[nx][ny] && !vis[nx][ny]) {
                vis[nx][ny] = 1;
                q.push({nx, ny, d + 1});
            }
        }
    }
    return -1;
}
```

---

## ä¸‰ã€å‰ªææŠ€å·§ï¼ˆPruningï¼‰

### âœ… å¸¸ç”¨å‰ªæç±»å‹ï¼š

| ç±»å‹ | æè¿° |
|------|------|
| å¯è¡Œæ€§å‰ªæ | æå‰åˆ¤æ–­å½“å‰çŠ¶æ€ä¸å¯èƒ½è¾¾åˆ°ç›®æ ‡ |
| æœ€ä¼˜æ€§å‰ªæ | å½“å‰è·¯å¾„ä»£ä»·å·²è¶…è¿‡è®°å½•çš„æœ€ä¼˜å€¼ |
| è®°å¿†åŒ–å‰ªæ | ä¿å­˜å·²è®¿é—®çŠ¶æ€é¿å…é‡å¤è®¡ç®— |
| é¡ºåºå‰ªæ | è°ƒæ•´æ‰©å±•é¡ºåºï¼Œä¼˜å…ˆå°è¯•æ›´ä¼˜åˆ†æ”¯ |

### ğŸ“Œ ç¤ºä¾‹ï¼ˆå¯è¡Œæ€§å‰ªæï¼‰ï¼š

```cpp
void dfs(int u, int sum) {
    if (sum > target) return; // å¯è¡Œæ€§å‰ªæ
    if (u == n) {
        if (sum == target) ans++;
        return;
    }
    dfs(u + 1, sum + a[u]);
    dfs(u + 1, sum);
}
```

---

## å››ã€IDDFSï¼ˆIterative Deepening DFSï¼‰  
### â€”â€” è¿­ä»£åŠ æ·±æœç´¢

### âœ… é€‚ç”¨åœºæ™¯ï¼š
- æœç´¢æ ‘æ·±ä¸”æœªçŸ¥
- éœ€æ‰¾æœ€æµ…è§£ï¼ˆç±»ä¼¼ BFSï¼‰
- å†…å­˜å—é™æ—¶æ›¿ä»£ BFS

### ğŸ“Œ ç‰¹ç‚¹ï¼š
- æ¯æ¬¡é™åˆ¶æœ€å¤§æ·±åº¦è¿›è¡Œ DFS
- è‹¥æœªæ‰¾åˆ°è§£ï¼Œåˆ™å¢åŠ æ·±åº¦ç»§ç»­æœ
- å†…å­˜å°ï¼Œé€‚åˆå¤§è§„æ¨¡çŠ¶æ€ç©ºé—´

```cpp
int max_depth;

bool dfs(int x, int y, int depth) {
    if (depth > max_depth) return false;
    if (x == tx && y == ty) return true;
    for (int i = 0; i < 4; ++i) {
        int nx = x + dx[i], ny = y + dy[i];
        if (in_bounds(nx, ny) && !vis[nx][ny]) {
            vis[nx][ny] = 1;
            if (dfs(nx, ny, depth + 1)) return true;
            vis[nx][ny] = 0;
        }
    }
    return false;
}

int iddfs() {
    for (max_depth = 0; ; max_depth++) {
        memset(vis, 0, sizeof vis);
        if (dfs(sx, sy, 0)) return max_depth;
    }
}
```

---


## äº”ã€A*ï¼ˆå¯å‘å¼æœç´¢ï¼‰

### âœ… é€‚ç”¨åœºæ™¯ï¼š
- å¤§è§„æ¨¡çŠ¶æ€ç©ºé—´
- éœ€æ‰¾æœ€å°ä»£ä»·è·¯å¾„
- æœ‰è‰¯å¥½å¯å‘å‡½æ•°å¯ç”¨

### ğŸ“Œ ç‰¹ç‚¹ï¼š
- å¯å‘å‡½æ•° `h(x)` ä¼°è®¡å½“å‰çŠ¶æ€åˆ°ç›®æ ‡çš„ä»£ä»·
- ä¼˜å…ˆé˜Ÿåˆ—ç»´æŠ¤èŠ‚ç‚¹ï¼ŒæŒ‰ `f = g + h` æ’åº
- ä¿è¯æœ€ä¼˜è§£å½“ `h â‰¤ h*`ï¼ˆä¸é«˜äºçœŸå®ä»£ä»·ï¼‰

![[Pasted image 20250712133521.png]]
![[Pasted image 20250712133528.png]]
```cpp
struct Node {
    int x, y, g, h;
    bool operator<(const Node &o) const {
        return g + h > o.g + o.h;
    }
};

priority_queue<Node> pq;
int h(int x, int y)
{
	return abs(tx - x) + abs(ty - y);
}
int astar() {
    pq.push({sx, sy, 0, heuristic(sx, sy)});
    while (!pq.empty()) {
        auto now = pq.top(); pq.pop();
        if (now.x == tx && now.y == ty) return now.g;
        for (int i = 0; i < 4; ++i) {
            int nx = now.x + dx[i], ny = now.y + dy[i];
            if (in_bounds(nx, ny) && !grid[nx][ny]) {
                int ng = now.g + 1;
                int nh = h(nx, ny);
                pq.push({nx, ny, ng, nh});
            }
        }
    }
    return -1;
}
```

---

## å…­ã€IDA*ï¼ˆè¿­ä»£åŠ æ·± A*ï¼‰

### âœ… é€‚ç”¨åœºæ™¯ï¼š
- å†…å­˜å—é™
- æœç´¢æ ‘æ·±
- éœ€æ‰¾æœ€ä¼˜è§£

### ğŸ“Œ ç‰¹ç‚¹ï¼š
- ç»“åˆ DFS ä¸ A* å¯å‘
- æ¯æ¬¡è®¾å®šæœ€å¤§å…è®¸çš„ `f = g + h`
- è‹¥è¶…é™åˆ™å‰ªæ
- ä¸ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼ŒèŠ‚çœå†…å­˜

```cpp
int max_depth;

int heuristic(int x, int y) {
    return abs(x - tx) + abs(y - ty); // æ›¼å“ˆé¡¿è·ç¦»
}

bool dfs(int x, int y, int g) {
    int f = g + heuristic(x, y);
    if (f > max_depth) return false;
    if (x == tx && y == ty) return true;
    for (int i = 0; i < 4; ++i) {
        int nx = x + dx[i], ny = y + dy[i];
        if (in_bounds(nx, ny) && !grid[nx][ny]) {
            if (dfs(nx, ny, g + 1)) return true;
        }
    }
    return false;
}

int ida_star() {
    max_depth = heuristic(sx, sy);
    while (true) {
        if (dfs(sx, sy, 0)) return max_depth;
        max_depth++; // å¢åŠ æ·±åº¦é™åˆ¶
    }
}
```

---

## ä¸ƒã€æ€»ç»“å¯¹æ¯”è¡¨

| æ–¹æ³•     | æ˜¯å¦æœ€ä¼˜ | å†…å­˜å‹å¥½ | é€‚åˆå¤§è§„æ¨¡ | æ˜¯å¦éœ€å¯å‘ | é‡å¤æœç´¢ |
|----------|-----------|-------------|------------------|----------------|--------------|
| DFS      | âŒ         | âœ…           | âŒ                 | âŒ               | âŒ            |
| BFS      | âœ…         | âŒ           | âœ…ï¼ˆå°èŒƒå›´ï¼‰       | âŒ               | âŒ            |
| IDDFS    | âœ…         | âœ…           | âœ…                 | âŒ               | âœ…            |
| A*       | âœ…         | âŒ           | âœ…ï¼ˆæœ‰å¥½å¯å‘ï¼‰     | âœ…               | âŒ            |
| IDA*     | âœ…         | âœ…           | âœ…                 | âœ…               | âœ…            |

---

## å…«ã€é€‰æ‹©å»ºè®®

| åœºæ™¯ | æ¨èæ–¹æ³• |
|------|-----------|
| å°è§„æ¨¡æš´åŠ› | DFS/BFS |
| å†…å­˜æœ‰é™ + æœ€ä¼˜è§£ | IDA* / IDDFS |
| å¤§è§„æ¨¡ + æœ‰å¯å‘å‡½æ•° | A* |
| éœ€æ‰¾æœ€æµ…è§£ | IDDFS |
| éœ€é«˜æ•ˆå‰ªæ | IDA* |

---

## ä¹ã€ç¤ºä¾‹ï¼šèµ°è¿·å®«é—®é¢˜ç»Ÿä¸€æ¥å£

å‡è®¾åœ°å›¾ä¸º `n Ã— m` çš„äºŒç»´æ•°ç»„ï¼Œèµ·ç‚¹ `(0, 0)`ï¼Œç»ˆç‚¹ `(n-1, m-1)`ï¼Œ0 è¡¨ç¤ºå¯èµ°ï¼Œ1 è¡¨ç¤ºéšœç¢ã€‚

ä½ åªéœ€æ›¿æ¢è°ƒç”¨å‡½æ•°å³å¯æµ‹è¯•ä¸åŒç®—æ³•ï¼š

```cpp
int main() {
    // è¾“å…¥åœ°å›¾ grid[n][m]
    
    // æµ‹è¯•ä¸åŒç®—æ³•ï¼š
    cout << "DFS: " << dfs(0, 0) << endl;
    cout << "BFS: " << bfs() << endl;
    cout << "IDDFS: " << iddfs() << endl;
    cout << "A*: " << astar() << endl;
    cout << "IDA*: " << ida_star() << endl;

    return 0;
}
```

---
